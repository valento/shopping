{"version":3,"sources":["../../server/routes/games.js"],"names":["gamesRouter","express","Router","mergeParams","use","bodyParser","json","get","req","res","next","params","action","id","api","countSocial","then","status","data","results","catch","console","log","error","route","post","body","mann_id","user_id","addSocial","toString"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAIA,cAAcC,kBAAQC,MAAR,CAAe;AAC/BC,eAAa;AADkB,CAAf,CAAlB;AAGAH,YAAYI,GAAZ,CAAgBC,qBAAWC,IAAX,EAAhB;;AAEAN,YAAYO,GAAZ,CAAgB,mBAAhB,EAAqC,UAACC,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAkB;AAAA,oBACjCF,IAAIG,MAD6B;AAAA,MAC9CC,MAD8C,eAC9CA,MAD8C;AAAA,MACvCC,EADuC,eACvCA,EADuC;;AAErDC,kBAAIC,WAAJ,CAAgBF,EAAhB,EAAoBD,MAApB,EACCI,IADD,CACO;AAAA,WAAWP,IAAIQ,MAAJ,CAAW,GAAX,EAAgBX,IAAhB,CAAqB,EAACY,MAAMC,mBAAiBP,MAAjB,OAAP,EAArB,CAAX;AAAA,GADP,EAGCQ,KAHD,CAGO;AAAA,WAASC,QAAQC,GAAR,CAAYC,KAAZ,CAAT;AAAA,GAHP;AAID,CAND;;AAQAvB,YAAYwB,KAAZ,CAAkB,OAAlB,EACCC,IADD,CACO,UAACjB,GAAD,EAAKC,GAAL,EAASC,IAAT,EAAkB;AAAA,kBACiBF,IAAIkB,IADrB;AAAA,MACfC,OADe,aACfA,OADe;AAAA,MACNC,OADM,aACNA,OADM;AAAA,MACMhB,MADN;;AAEvBE,kBAAIe,SAAJ,CAAcF,QAAQG,QAAR,EAAd,EAAiCF,QAAQE,QAAR,EAAjC,EAAqDlB,MAArD,EAA6DI,IAA7D,CAAmE;AAAA,WAAWK,QAAQC,GAAR,CAAYH,OAAZ,CAAX;AAAA,GAAnE;AACD,CAJD;;kBAMenB,W","file":"games.js","sourcesContent":["import express from 'express'\nimport bodyParser from 'body-parser'\nimport api from '../api/games'\nimport { getUserId } from '../middleware/auth'\n\nlet gamesRouter = express.Router({\n  mergeParams: true\n})\ngamesRouter.use(bodyParser.json())\n\ngamesRouter.get('/mann/:action/:id', (req,res,next) => {\n  const {action,id} = req.params\n  api.countSocial(id, action)\n  .then( results => res.status(200).json({data: results[`COUNT(${action})`]})\n  )\n  .catch(error => console.log(error))\n})\n\ngamesRouter.route('/mann')\n.post( (req,res,next) => {\n  const { mann_id, user_id, ...action } = req.body\n  api.addSocial(mann_id.toString(),user_id.toString(), action).then( results => console.log(results))\n})\n\nexport default gamesRouter\n"]}